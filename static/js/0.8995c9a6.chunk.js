"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[0],{9e3:function(n,e,r){r.r(e),r.d(e,{default:function(){return M}});var t=r(1413),a=r(2791),i=r(9434),s=r(4270),c=function(n){return n.filter},o=r(3634),l=r(8348),u=r(176),d=r(1681),m=r(4087),x=r(9229),h=r(4224),p=r(7281),j=r(5969),f=r(9439),b=r(581),v=r(8206),g=r(9975),y=r(3182),k=r(7970),w=r(1211),C=r(1216),L=r(184),I=function(n){var e=n.buttonName,r=n.modalTitle,t=n.modalBody,i=n.isOpen,s=n.onOpen,c=n.onClose,o=function(){return(0,L.jsx)(b.Z,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"})},l=a.useState((0,L.jsx)(o,{})),u=(0,f.Z)(l,2),d=u[0],x=u[1];return(0,L.jsxs)(v.W,{children:[(0,L.jsx)(m.xu,{py:4,children:(0,L.jsx)(h.z,{onClick:function(){x((0,L.jsx)(o,{})),s()},variant:"brand",children:e})}),(0,L.jsxs)(g.u_,{isCentered:!0,isOpen:i,onClose:c,children:[d,(0,L.jsxs)(y.h,{px:4,py:8,children:[(0,L.jsx)(k.o,{}),(0,L.jsx)(w.x,{as:"h2",fontSize:"xl",align:"center",children:r}),(0,L.jsx)(C.f,{children:t})]})]})]})},S=r(5861),F=r(4687),Z=r.n(F),_=function(n){var e=(""+n).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{2})(\d{2})$/);return e?"("+e[1]+")-"+e[2]+"-"+e[3]+"-"+e[4]:null},z=function(n){return n.replace(/[()-]/g,"")},B=r(5193),T=r(8208),N=r(311),q=r(7806),A=r(4363),H=r(6069),U=r(2322),W=r(8185),K=function(n){var e=n.id,r=n.name,t=n.number,a=n.onSubmit,s=(0,i.I0)(),c=function(){var n=(0,S.Z)(Z().mark((function n(r){var t,i,c,l;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),t=r.currentTarget,i=t.elements.name.value.trim(),c=t.elements.number.value,l={id:e,name:i,number:_(c)},n.prev=5,n.next=8,s((0,o.Tk)(l)).unwrap();case 8:t.reset(),a(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e){return n.apply(this,arguments)}}();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("form",{onSubmit:c,children:(0,L.jsxs)(B.K,{spacing:2,children:[(0,L.jsx)(T.l,{htmlFor:"name",m:"0",children:"Name:"}),(0,L.jsxs)(N.B,{children:[(0,L.jsx)(q.Z,{pointerEvents:"none",children:(0,L.jsx)(A.J,{as:W.HHm,color:"gray.300"})}),(0,L.jsx)(H.I,{as:"input",name:"name",defaultValue:r,minLength:3,id:"name"})]}),(0,L.jsx)(T.l,{htmlFor:"number",m:"0",children:"Phone:"}),(0,L.jsxs)(N.B,{children:[(0,L.jsx)(U.Ui,{children:"+38"}),(0,L.jsx)(H.I,{as:"input",name:"number",minLength:10,maxLength:10,id:"number",defaultValue:z(t)})]}),(0,L.jsx)(h.z,{type:"submit",variant:"brand",mt:4,children:"Update contact"})]})})})},D=function(n){var e=n.id,r=n.name,a=n.number,s=(0,i.I0)(),c=(0,l.q)();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(u.k,{align:"center",p:2,children:[(0,L.jsx)(d.q,{src:"https://bit.ly/broken-link"}),(0,L.jsxs)(m.xu,{ml:"3",children:[(0,L.jsx)(x.x,{fontWeight:"bold",children:r}),(0,L.jsx)(x.x,{fontSize:"sm",children:a})]}),(0,L.jsxs)(m.xu,{ml:"auto",display:"flex",alignItems:"center",children:[(0,L.jsx)(I,(0,t.Z)((0,t.Z)({},c),{},{buttonName:"Update",modalTitle:"Update you contact",modalBody:(0,L.jsx)(K,{id:e,name:r,number:a,onSubmit:c.onClose})})),(0,L.jsx)(h.z,{type:"button",onClick:function(){return s((0,o.GK)(e))},variant:"brand",children:(0,L.jsx)(j.p,{})})]})]}),(0,L.jsx)(p.i,{})]})},E=function(n){return n.contacts.loading},O=function(n){return n.contacts.items},P=r(3541),V=function(){var n=(0,i.v9)(c),e=(0,i.v9)(O),r=e?e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):[],t=r.slice().sort((function(n,e){var r=n.name.toLowerCase(),t=e.name.toLowerCase();return r.localeCompare(t)}));return 0===t.length?(0,L.jsx)(v.W,{children:(0,L.jsx)(x.x,{children:"Sorry, but you don't have any contacts yet. Add your first contact."})}):(0,L.jsx)(v.W,{mb:20,children:(0,L.jsx)(P.aV,{spacing:4,children:t.map((function(n){var e=n.id,r=n.name,t=n.number;return(0,L.jsx)(P.HC,{children:(0,L.jsx)(D,{name:r,number:t,id:e})},e)}))})})},J=r(5218),G=function(n){var e=n.onSubmit,r=(0,i.v9)(O),t=(0,i.I0)(),a=function(){var n=(0,S.Z)(Z().mark((function n(a){var i,s,c,l;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),i=a.currentTarget,s=i.elements.name.value.trim(),c=i.elements.number.value,!r.some((function(n){return n.name.toLowerCase().trim()===s.toLowerCase()}))){n.next=8;break}return J.ZP.error("".concat(s," is already in contacts."),{position:"top-center"}),n.abrupt("return");case 8:return l={name:s,number:_(c)},n.prev=9,n.next=12,t((0,o.uK)(l)).unwrap();case 12:i.reset(),e(),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(9),console.log(n.t0);case 19:case"end":return n.stop()}}),n,null,[[9,16]])})));return function(e){return n.apply(this,arguments)}}();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("form",{onSubmit:a,children:(0,L.jsxs)(B.K,{spacing:2,children:[(0,L.jsx)(T.l,{htmlFor:"name",m:"0",children:"Name:"}),(0,L.jsxs)(N.B,{children:[(0,L.jsx)(q.Z,{pointerEvents:"none",children:(0,L.jsx)(A.J,{as:W.HHm,color:"gray.300"})}),(0,L.jsx)(H.I,{as:"input",name:"name",placeholder:"Name",minLength:3,id:"name"})]}),(0,L.jsx)(T.l,{htmlFor:"number",m:"0",children:"Phone:"}),(0,L.jsxs)(N.B,{children:[(0,L.jsx)(U.Ui,{children:"+38"}),(0,L.jsx)(H.I,{as:"input",name:"number",placeholder:"(096)-11-11-111",minLength:10,maxLength:10,id:"number"})]}),(0,L.jsx)(h.z,{type:"submit",variant:"brand",mt:4,children:"Add contact"})]})})})},R=r(1634),X=r(896),Y=r(5946),$=function(){var n=(0,i.I0)();return(0,L.jsxs)(v.W,{py:4,px:4,children:[(0,L.jsxs)(m.xu,{position:"relative",padding:"6",children:[(0,L.jsx)(p.i,{}),(0,L.jsx)(X.u,{px:"4",children:(0,L.jsx)(Y.X,{as:"h2",fontSize:"xl",align:"center",children:"Find contact by name"})})]}),(0,L.jsx)(H.I,{as:"input",onInput:function(e){n((0,R.T)(e.target.value.toLowerCase().trim()))},name:"filter",placeholder:"Start typing a name...",minLength:3,id:"filter"})]})};function M(){var n=(0,i.I0)(),e=(0,i.v9)(E),r=(0,l.q)();return(0,a.useEffect)((function(){n((0,o.yF)())}),[n]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(s.q,{children:(0,L.jsx)("title",{children:"Your contacts"})}),(0,L.jsx)("div",{children:e&&"Request in progress..."}),(0,L.jsx)($,{}),(0,L.jsx)(I,(0,t.Z)((0,t.Z)({},r),{},{buttonName:"Add new contact",modalTitle:"Add new contact",modalBody:(0,L.jsx)(G,{onSubmit:r.onClose})})),(0,L.jsx)(V,{})]})}}}]);
//# sourceMappingURL=0.8995c9a6.chunk.js.map