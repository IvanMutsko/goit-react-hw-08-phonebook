"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[0],{9e3:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var r=t(2791),i=t(9434),a=t(4270),s=function(n){return n.filter},c=t(3634),o=t(176),l=t(1681),u=t(4087),d=t(9229),m=t(4224),x=t(7281),h=t(5969),j=t(9439),p=t(581),f=t(8348),b=t(8206),g=t(9975),v=t(3182),y=t(7970),C=t(1211),k=t(1216),L=t(184),w=function(n){var e=n.buttonName,t=n.modalTitle,i=n.modalBody,a=function(){return(0,L.jsx)(p.Z,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"})},s=(0,f.q)(),c=s.isOpen,o=s.onOpen,l=s.onClose,d=r.useState((0,L.jsx)(a,{})),x=(0,j.Z)(d,2),h=x[0],w=x[1];return(0,L.jsxs)(b.W,{children:[(0,L.jsx)(u.xu,{py:4,children:(0,L.jsx)(m.z,{onClick:function(){w((0,L.jsx)(a,{})),o()},variant:"brand",children:e})}),(0,L.jsxs)(g.u_,{isCentered:!0,isOpen:c,onClose:l,children:[h,(0,L.jsxs)(v.h,{px:4,py:8,children:[(0,L.jsx)(y.o,{}),(0,L.jsx)(C.x,{as:"h2",fontSize:"xl",align:"center",children:t}),(0,L.jsx)(k.f,{children:i})]})]})]})},I=function(n){var e=(""+n).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{2})(\d{2})$/);return e?"("+e[1]+")-"+e[2]+"-"+e[3]+"-"+e[4]:null},F=function(n){return n.replace(/[()-]/g,"")},_=t(5193),S=t(8208),z=t(311),B=t(7806),T=t(4363),N=t(6069),A=t(2322),H=t(8185),U=function(n){var e=n.id,t=n.name,r=n.number,a=(0,i.I0)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("form",{onSubmit:function(n){n.preventDefault();var t=n.currentTarget,r=t.elements.name.value.trim(),i=t.elements.number.value,s={id:e,name:r,number:I(i)};a((0,c.Tk)(s)),t.reset()},children:(0,L.jsxs)(_.K,{spacing:2,children:[(0,L.jsx)(S.l,{htmlFor:"name",m:"0",children:"Name:"}),(0,L.jsxs)(z.B,{children:[(0,L.jsx)(B.Z,{pointerEvents:"none",children:(0,L.jsx)(T.J,{as:H.HHm,color:"gray.300"})}),(0,L.jsx)(N.I,{as:"input",name:"name",defaultValue:t,minLength:3,id:"name"})]}),(0,L.jsx)(S.l,{htmlFor:"number",m:"0",children:"Phone:"}),(0,L.jsxs)(z.B,{children:[(0,L.jsx)(A.Ui,{children:"+38"}),(0,L.jsx)(N.I,{as:"input",name:"number",minLength:10,maxLength:10,id:"number",defaultValue:F(r)})]}),(0,L.jsx)(m.z,{type:"submit",variant:"brand",mt:4,children:"Update contact"})]})})})},W=function(n){var e=n.id,t=n.name,r=n.number,a=(0,i.I0)();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(o.k,{align:"center",p:2,children:[(0,L.jsx)(l.q,{src:"https://bit.ly/broken-link"}),(0,L.jsxs)(u.xu,{ml:"3",children:[(0,L.jsx)(d.x,{fontWeight:"bold",children:t}),(0,L.jsx)(d.x,{fontSize:"sm",children:r})]}),(0,L.jsxs)(u.xu,{ml:"auto",display:"flex",alignItems:"center",children:[(0,L.jsx)(w,{buttonName:"Update",modalTitle:"Update you contact",modalBody:(0,L.jsx)(U,{id:e,name:t,number:r})}),(0,L.jsx)(m.z,{type:"button",onClick:function(){return a((0,c.GK)(e))},variant:"brand",children:(0,L.jsx)(h.p,{})})]})]}),(0,L.jsx)(x.i,{})]})},Z=function(n){return n.contacts.loading},q=function(n){return n.contacts.items},K=t(3541),D=function(){var n=(0,i.v9)(s),e=(0,i.v9)(q),t=e?e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):[],r=t.slice().sort((function(n,e){var t=n.name.toLowerCase(),r=e.name.toLowerCase();return t.localeCompare(r)}));return 0===r.length?(0,L.jsx)(b.W,{children:(0,L.jsx)(d.x,{children:"Sorry, but you don't have any contacts yet. Add your first contact."})}):(0,L.jsx)(b.W,{mb:20,children:(0,L.jsx)(K.aV,{spacing:4,children:r.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,L.jsx)(K.HC,{children:(0,L.jsx)(W,{name:t,number:r,id:e})},e)}))})})},E=t(5218),O=function(){var n=(0,i.v9)(q),e=(0,i.I0)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("form",{onSubmit:function(t){t.preventDefault();var r=t.currentTarget,i=r.elements.name.value.trim(),a=r.elements.number.value;if(n.some((function(n){return n.name.toLowerCase().trim()===i.toLowerCase()})))E.ZP.error("".concat(i," is already in contacts."),{position:"top-center"});else{var s={name:i,number:I(a)};e((0,c.uK)(s)),r.reset()}},children:(0,L.jsxs)(_.K,{spacing:2,children:[(0,L.jsx)(S.l,{htmlFor:"name",m:"0",children:"Name:"}),(0,L.jsxs)(z.B,{children:[(0,L.jsx)(B.Z,{pointerEvents:"none",children:(0,L.jsx)(T.J,{as:H.HHm,color:"gray.300"})}),(0,L.jsx)(N.I,{as:"input",name:"name",placeholder:"Name",minLength:3,id:"name"})]}),(0,L.jsx)(S.l,{htmlFor:"number",m:"0",children:"Phone:"}),(0,L.jsxs)(z.B,{children:[(0,L.jsx)(A.Ui,{children:"+38"}),(0,L.jsx)(N.I,{as:"input",name:"number",placeholder:"(096)-11-11-111",minLength:10,maxLength:10,id:"number"})]}),(0,L.jsx)(m.z,{type:"submit",variant:"brand",mt:4,children:"Add contact"})]})})})},P=t(1634),V=t(896),J=t(5946),G=function(){var n=(0,i.I0)();return(0,L.jsxs)(b.W,{py:4,px:4,children:[(0,L.jsxs)(u.xu,{position:"relative",padding:"6",children:[(0,L.jsx)(x.i,{}),(0,L.jsx)(V.u,{px:"4",children:(0,L.jsx)(J.X,{as:"h2",fontSize:"xl",align:"center",children:"Find contact by name"})})]}),(0,L.jsx)(N.I,{as:"input",onInput:function(e){n((0,P.T)(e.target.value.toLowerCase().trim()))},name:"filter",placeholder:"Start typing a name...",minLength:3,id:"filter"})]})};function R(){var n=(0,i.I0)(),e=(0,i.v9)(Z);return(0,r.useEffect)((function(){n((0,c.yF)())}),[n]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(a.q,{children:(0,L.jsx)("title",{children:"Your contacts"})}),(0,L.jsx)("div",{children:e&&"Request in progress..."}),(0,L.jsx)(G,{}),(0,L.jsx)(w,{buttonName:"Add new contact",modalTitle:"Add new contact",modalBody:(0,L.jsx)(O,{})}),(0,L.jsx)(D,{})]})}}}]);
//# sourceMappingURL=0.8ef35206.chunk.js.map