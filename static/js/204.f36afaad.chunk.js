"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[204],{204:function(n,e,t){t.r(e),t.d(e,{default:function(){return nn}});var r=t(1413),a=t(2791),i=t(4270),s=t(9434),c=function(n){return n.filter},o=t(5861),u=t(4687),l=t.n(u),d=function(n){return n.contacts.loading},m=function(n){return n.contacts.filter},x=function(n){return n.contacts.items},h=t(3634),p=function(){var n=(0,s.I0)(),e=(0,s.v9)(d),t=(0,s.v9)(m),r=(0,s.v9)(x),a=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(h.yF()).unwrap();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(h.uK(t)).unwrap();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(h.GK(t)).unwrap();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),u=function(){var e=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(h.Tk(t)).unwrap();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{isContactsLoading:e,isContactsFiltered:t,isAllContacts:r,fetchContacts:a,addContact:i,deleteContact:c,updateContact:u}},f=t(8348),j=t(176),v=t(1681),b=t(4087),g=t(9229),C=t(4224),w=t(7281),y=t(5969),k=t(9439),L=t(581),Z=t(8206),F=t(9975),S=t(3182),I=t(7970),_=t(1211),A=t(1216),z=t(184),B=function(n){var e=n.buttonName,t=n.modalTitle,r=n.modalBody,i=n.isOpen,s=n.onOpen,c=n.onClose,o=function(){return(0,z.jsx)(L.Z,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"})},u=a.useState((0,z.jsx)(o,{})),l=(0,k.Z)(u,2),d=l[0],m=l[1];return(0,z.jsxs)(Z.W,{children:[(0,z.jsx)(b.xu,{py:4,children:(0,z.jsx)(C.z,{onClick:function(){m((0,z.jsx)(o,{})),s()},variant:"brand",children:e})}),(0,z.jsxs)(F.u_,{isCentered:!0,isOpen:i,onClose:c,children:[d,(0,z.jsxs)(S.h,{px:4,py:8,children:[(0,z.jsx)(I.o,{}),(0,z.jsx)(_.x,{as:"h2",fontSize:"xl",align:"center",children:t}),(0,z.jsx)(A.f,{children:r})]})]})]})},T=function(n){var e=(""+n).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{2})(\d{2})$/);return e?"("+e[1]+")-"+e[2]+"-"+e[3]+"-"+e[4]:null},N=function(n){return n.replace(/[()-]/g,"")},q=t(5193),H=t(8208),U=t(311),W=t(7806),K=t(4363),D=t(6069),E=t(2322),O=t(8185),P=function(n){var e=n.id,t=n.name,r=n.number,a=n.onSubmit,i=p().updateContact,s=function(){var n=(0,o.Z)(l().mark((function n(t){var r,s,c,o;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),r=t.currentTarget,s=r.elements.name.value.trim(),c=r.elements.number.value,o={id:e,name:s,number:T(c)},n.prev=5,n.next=8,i(o);case 8:r.reset(),a(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e){return n.apply(this,arguments)}}();return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)("form",{onSubmit:s,children:(0,z.jsxs)(q.K,{spacing:2,children:[(0,z.jsx)(H.l,{htmlFor:"name",m:"0",children:"Name:"}),(0,z.jsxs)(U.B,{children:[(0,z.jsx)(W.Z,{pointerEvents:"none",children:(0,z.jsx)(K.J,{as:O.HHm,color:"gray.300"})}),(0,z.jsx)(D.I,{as:"input",name:"name",defaultValue:t,minLength:3,id:"name"})]}),(0,z.jsx)(H.l,{htmlFor:"number",m:"0",children:"Phone:"}),(0,z.jsxs)(U.B,{children:[(0,z.jsx)(E.Ui,{children:"+38"}),(0,z.jsx)(D.I,{as:"input",name:"number",minLength:10,maxLength:10,id:"number",defaultValue:N(r)})]}),(0,z.jsx)(C.z,{type:"submit",variant:"brand",mt:4,children:"Update contact"})]})})})},V=function(n){var e=n.id,t=n.name,a=n.number,i=p().deleteContact,s=(0,f.q)();return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(j.k,{align:"center",p:2,children:[(0,z.jsx)(v.q,{src:"https://bit.ly/broken-link"}),(0,z.jsxs)(b.xu,{ml:"3",children:[(0,z.jsx)(g.x,{fontWeight:"bold",children:t}),(0,z.jsx)(g.x,{fontSize:"sm",children:a})]}),(0,z.jsxs)(b.xu,{ml:"auto",display:"flex",alignItems:"center",children:[(0,z.jsx)(B,(0,r.Z)((0,r.Z)({},s),{},{buttonName:"Update",modalTitle:"Update you contact",modalBody:(0,z.jsx)(P,{id:e,name:t,number:a,onSubmit:s.onClose})})),(0,z.jsx)(C.z,{type:"button",onClick:function(){return i(e)},variant:"brand",children:(0,z.jsx)(y.p,{})})]})]}),(0,z.jsx)(w.i,{})]})},J=t(3541),G=function(){var n=(0,s.v9)(c),e=p().isAllContacts,t=e?e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):[],r=t.slice().sort((function(n,e){var t=n.name.toLowerCase(),r=e.name.toLowerCase();return t.localeCompare(r)}));return 0===r.length?(0,z.jsx)(Z.W,{children:(0,z.jsx)(g.x,{children:"Sorry, but you don't have any contacts yet. Add your first contact."})}):(0,z.jsx)(Z.W,{mb:20,children:(0,z.jsx)(J.aV,{spacing:4,children:r.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,z.jsx)(J.HC,{children:(0,z.jsx)(V,{name:t,number:r,id:e})},e)}))})})},R=t(5218),X=function(n){var e=n.onSubmit,t=p(),r=t.isAllContacts,a=t.addContact,i=function(){var n=(0,o.Z)(l().mark((function n(t){var i,s,c,o;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),i=t.currentTarget,s=i.elements.name.value.trim(),c=i.elements.number.value,!r.some((function(n){return n.name.toLowerCase().trim()===s.toLowerCase()}))){n.next=8;break}return R.ZP.error("".concat(s," is already in contacts."),{position:"top-center"}),n.abrupt("return");case 8:return o={name:s,number:T(c)},n.prev=9,n.next=12,a(o);case 12:i.reset(),e(),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(9),console.log(n.t0);case 19:case"end":return n.stop()}}),n,null,[[9,16]])})));return function(e){return n.apply(this,arguments)}}();return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)("form",{onSubmit:i,children:(0,z.jsxs)(q.K,{spacing:2,children:[(0,z.jsx)(H.l,{htmlFor:"name",m:"0",children:"Name:"}),(0,z.jsxs)(U.B,{children:[(0,z.jsx)(W.Z,{pointerEvents:"none",children:(0,z.jsx)(K.J,{as:O.HHm,color:"gray.300"})}),(0,z.jsx)(D.I,{as:"input",name:"name",placeholder:"Name",minLength:3,id:"name"})]}),(0,z.jsx)(H.l,{htmlFor:"number",m:"0",children:"Phone:"}),(0,z.jsxs)(U.B,{children:[(0,z.jsx)(E.Ui,{children:"+38"}),(0,z.jsx)(D.I,{as:"input",name:"number",placeholder:"(096)-11-11-111",minLength:10,maxLength:10,id:"number"})]}),(0,z.jsx)(C.z,{type:"submit",variant:"brand",mt:4,children:"Add contact"})]})})})},Y=t(1634),$=t(896),M=t(5946),Q=function(){var n=(0,s.I0)();return(0,z.jsxs)(Z.W,{py:4,px:4,children:[(0,z.jsxs)(b.xu,{position:"relative",padding:"6",children:[(0,z.jsx)(w.i,{}),(0,z.jsx)($.u,{px:"4",children:(0,z.jsx)(M.X,{as:"h2",fontSize:"xl",align:"center",children:"Find contact by name"})})]}),(0,z.jsx)(D.I,{as:"input",onInput:function(e){n((0,Y.T)(e.target.value.toLowerCase().trim()))},name:"filter",placeholder:"Start typing a name...",minLength:3,id:"filter"})]})};function nn(){var n=p(),e=n.isContactsLoading,t=n.fetchContacts,s=(0,f.q)();return(0,a.useEffect)((function(){t()}),[t]),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(i.q,{children:(0,z.jsx)("title",{children:"Your contacts"})}),(0,z.jsx)("div",{children:e&&"Request in progress..."}),(0,z.jsx)(Q,{}),(0,z.jsx)(B,(0,r.Z)((0,r.Z)({},s),{},{buttonName:"Add new contact",modalTitle:"Add new contact",modalBody:(0,z.jsx)(X,{onSubmit:s.onClose})})),(0,z.jsx)(G,{})]})}}}]);
//# sourceMappingURL=204.f36afaad.chunk.js.map